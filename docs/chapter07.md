캡슐화의 정의를 잘 알아야 함
'데이터와 행위를 합쳐준다'라는 정의가 캡슐화의 정의가 아니다

오브젝트가 외부 세상과 어떤 상호작용을 하고 어떤 행위를 노출하는것을 제외한
내부의 모든 구현 및 다루는 데이터를 감추는 걸 캡슐화 라고 한다

클래스는 캡슐화 하기 가장 좋은 도구 중 하나
외부로 노출하는 행위만 바뀌지 않으면 내부의 동작 방식이 변경되어도
상관 없다. 이것이 캡슐화의 장점이다

```text
📌 캡슐화(Encapsulation)의 올바른 정의와 핵심 개념

✅ 잘못된 이해:
	•	**“데이터와 행위를 합쳐주는 것”**이 캡슐화의 정의가 아니다.
	•	단순히 필드(데이터)와 메서드(행위)를 같은 클래스 안에 둔다고 해서 캡슐화가 되는 것이 아님.

✅ 올바른 정의:
	•	캡슐화란, 객체가 외부와 상호작용하는 방식을 정의하면서, 내부 구현과 데이터를 감추는 것.
	•	즉, 객체가 외부에 노출하는 행위(메서드)만 유지되면, 내부 구현 방식이 변경되어도 상관없도록 설계하는 것.
	
1. 캡슐화의 핵심 원칙

1️⃣ 외부에서 접근할 필요가 없는 데이터(필드)와 내부 로직을 숨긴다.
2️⃣ 객체가 제공하는 “행위(메서드)“만 외부에 노출하고, 내부 구현은 자유롭게 변경 가능해야 한다.
3️⃣ 클래스는 캡슐화를 적용하기 가장 좋은 도구이다.

📌 즉, 캡슐화의 목적은 “내부 구현을 숨기고, 객체 간의 상호작용을 안전하게 만드는 것

4. 캡슐화의 장점

✅ 1) 내부 구현을 자유롭게 변경 가능
	•	외부에서 사용하는 메서드(행위)만 유지되면, 내부 구현을 마음대로 변경할 수 있음.
	•	예를 들어, BankAccount 내부에 로그를 남기거나, balance 필드를 다른 구조로 변경해도, 외부에서는 동일한 방식으로 사용할 수 있음.

✅ 2) 객체 간 결합도를 낮출 수 있음 (유지보수 용이)
	•	내부 구현을 숨기면, 다른 객체가 BankAccount의 balance가 어떻게 저장되는지 몰라도 됨.
	•	즉, 캡슐화가 잘 되면, 객체 간의 의존성이 낮아지고 유지보수가 쉬워짐.

✅ 3) 데이터 보호 및 무결성 보장
	•	외부에서 balance를 직접 변경할 수 없으므로, 잘못된 상태로 객체가 변경되는 것을 방지할 수 있음.
	•	예를 들어, deposit()과 withdraw()를 통해서만 잔액을 변경할 수 있도록 강제하면, 비즈니스 규칙이 항상 적용된 상태를 유지할 수 있음.
	
	
+ 캡슐화가 잘되어 있다면 무언가를 변경할 때 함께 고려해야 할 모듈 수가 적어져서 코드를 변경하기 쉬워진다.
```

코드베이스에서 일관성을 주는 것이다. 한 패턴을 적용하기로 했다면 통일하자.

서버개발시 상태를 가진 오브젝트들간의 관계를 묘사할 수 있는 도메인을 설계 혹은 프레임워크 에서 객체지향을 적용할 수 있다.
일반적인 서버 개발은 절차지향적으로 할수밖에 없다.

Collections.unmodifiableXxx()는 잘 익혀두셈

일급 컬렉션
- 컬렉션에 의미있게 접근할 수 있는 방법
- 컬렉션 캡슐화보다 한단계 더 나아간것

무분별한 해시맵

코틀린개발시 엔티티 setter를 다 열어두고 개발때 쓰지 않도록 룰을 정함
- private set하기가 복잡한듯?
테스트할 때는 private field를 변경할 수 있는 유틸리티 메서드들을 모키토 같은 라이브러리가 제공해줌(테스트 에서만!!)

매번 새로운 객체를 만드는걸 토비님은 선호하지 않음

위임이 없는게 낳을 수도 있다.(중개자 제거, 7.8절)

```
이번 책이 참 좋은게, 소프트웨어의 지속적인 변화 방법을 알려주는 것이라고 생각합니다. 
그렇다보니 그 변화하는 방법을 알려주는 걸 익히고 있어요.
그래서 테스트코드를 짜고 이 호흡을 익혀보려고 해요
실용주의 프로그래머에도 소프트웨어 아키텍처링은 "건축" 보단 "정원가꾸기(gardening)"으로 
비유하는게 이런 요소 때문이 아닐까 합니다
```

setter에서도 복제본을 반환하는 이유는?
- 특별한 경우에 사용
  - 장시간 동안 유지할때만.. 뒤에서 멀티스레딩을 돌린다는지..

constructor에서 setter를 사용하는 것이 일반적인 사례인가?
- 자바에서도 가끔 있음
- setter에다가 로직을 넣기 위함(validation 등)


== 아래 글은 내가 기록
7.7 위임 숨기기 내용 중요한 것 같음
